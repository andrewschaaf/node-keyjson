(function(){var h,g,j,k,i,l,m;g=require("./keyjson");h=[new Buffer([]),new Buffer([0]),new Buffer([0,1]),new Buffer([0,1,2]),new Buffer([0,1,2,3])];k=[];for(var p=0;p<5;p+=1)for(var n=0;n<256;n+=1)k.push(n);h.push(new Buffer(k));j=[[["x",0],"NTR4AMCA"],[null,"MQ=="],[false,"Mg=="],[true,"Mw=="],["Montr\u00e9al","NE1vbnRyw6lhbA=="],[["x",0],"NTR4AMCA"],[["x",0,"Foo"],"NTR4AMCAADRGb28="],[{y:"Foo",x:0},"NjR4AMCAADR5ADRGb28="],[-16384,"vf7//w=="],[-129,"vv7+"],[-128,"vv7/"],[-127,"v4A="],[-126,"v4E="],
[-2,"v/0="],[-1,"v/4="],[0,"wIA="],[1,"wIE="],[126,"wP4="],[127,"wP8="],[128,"wYGA"],[129,"wYGB"],[16384,"woGAgA=="],[2097152,"w4GAgIA="]];i=function(a){a=JSON.stringify(a);console.log(a);throw{name:"Exception",message:a};};m=function(a,b,c){a=a.toString("binary");b=b.toString("binary");a!==b&&i(["Buffers not equal:",a,b,"note:",c])};l=function(a,b,c){var d,e,o;o=typeof a;d=JSON.parse(JSON.stringify(a));e=JSON.parse(JSON.stringify(b));if(a===true||a===false||a===null||o==="string"||o==="number"||
a instanceof Array)JSON.stringify(a)!==JSON.stringify(b)&&i(["Not equal:",a,b,"note:",c]);else{for(var f in d)d.hasOwnProperty(f)&&l(a[f],b[f],c);for(f in e)if(e.hasOwnProperty(f))f in a||i(["Key",f,"from",e,"not found in",a,"note:",c])}};(function(){for(var a,b,c,d=0,e=h.length;d<e;d+=1){c=h[d];a=g.b64encode(c);b=g.b64decode(a);m(c,b,a)}})();(function(){for(var a,b,c,d=0,e=j.length;d<e;d+=1){a=j[d];b=a[0];c=new Buffer(a[1],"base64");a=g.stringify(b);m(a,c,b);c=g.parse(a);l(b,c,a)}})();console.log("OK")})();
